<!DOCTYPE html>


  <html class="light page-post">


<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Effective Python | DaiDai_Blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="Python,">
  

  <meta name="description" content="编辑时间：2018.9.18 有一部分是原书的内容，但测试样例全都是使用Python3.6.6自己测试的，Python的版本在不断的优化，因此语法在变化优化，本文有时效性大概半年吧。  一、用Python方式来思考pep8切割序列12345678910111213141516list_ = [1, 2, 3, 4, 5]print(list_[:2])  # 前两个print(list_[:-2]">
<meta name="keywords" content="Python">
<meta property="og:type" content="article">
<meta property="og:title" content="Effective Python">
<meta property="og:url" content="https://www.fuweihu.xyz/2018/09/18/Effective-Python/index.html">
<meta property="og:site_name" content="DaiDai_Blog">
<meta property="og:description" content="编辑时间：2018.9.18 有一部分是原书的内容，但测试样例全都是使用Python3.6.6自己测试的，Python的版本在不断的优化，因此语法在变化优化，本文有时效性大概半年吧。  一、用Python方式来思考pep8切割序列12345678910111213141516list_ = [1, 2, 3, 4, 5]print(list_[:2])  # 前两个print(list_[:-2]">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-01-14T07:13:10.876Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Effective Python">
<meta name="twitter:description" content="编辑时间：2018.9.18 有一部分是原书的内容，但测试样例全都是使用Python3.6.6自己测试的，Python的版本在不断的优化，因此语法在变化优化，本文有时效性大概半年吧。  一、用Python方式来思考pep8切割序列12345678910111213141516list_ = [1, 2, 3, 4, 5]print(list_[:2])  # 前两个print(list_[:-2]">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-38189205-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?57e94d016e201fba3603a8a2b0263af0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

</head>
</html>
<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">Box</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">Box</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/archives/" rel="noopener noreferrer" target="_self">
            Blog
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/category/" rel="noopener noreferrer" target="_self">
            Category
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/tag/" rel="noopener noreferrer" target="_self">
            Tag
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/about/" rel="noopener noreferrer" target="_self">
            About
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/atom.xml" rel="noopener noreferrer" target="_blank">
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/search/" rel="noopener noreferrer" target="_self">
            Search
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">Posts List</strong>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、用Python方式来思考"><span class="toc-text">一、用Python方式来思考</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#pep8"><span class="toc-text">pep8</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#切割序列"><span class="toc-text">切割序列</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#在单次切片操作内，不要同时指定start、end和stride"><span class="toc-text">在单次切片操作内，不要同时指定start、end和stride</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#用列表推导来取代map和filter"><span class="toc-text">用列表推导来取代map和filter</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#不要使用含有两个以上表达式的列表推导，这样可行但是会减少代码的可读性。可以使用多次单个表达式的列表推导来代替多个表达式的列表推导。"><span class="toc-text">不要使用含有两个以上表达式的列表推导，这样可行但是会减少代码的可读性。可以使用多次单个表达式的列表推导来代替多个表达式的列表推导。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#使用生成器来改写数据量较大的列表推导"><span class="toc-text">使用生成器来改写数据量较大的列表推导</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#尽量使用enumerate替代range"><span class="toc-text">尽量使用enumerate替代range</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#使用zip函数同时遍历多个迭代器"><span class="toc-text">使用zip函数同时遍历多个迭代器</span></a></li></ol></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#二、函数"><span class="toc-text">二、函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#尽量使用异常来表示特殊情况，而不要返回None（捕捉异常）"><span class="toc-text">尽量使用异常来表示特殊情况，而不要返回None（捕捉异常）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#考虑用生成器来改写直接返回列表的函数"><span class="toc-text">考虑用生成器来改写直接返回列表的函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、类与继承"><span class="toc-text">三、类与继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四、元类及属性"><span class="toc-text">四、元类及属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#五、并发及并行"><span class="toc-text">五、并发及并行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#六、内置模块"><span class="toc-text">六、内置模块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#使用Python内置的算法与数据结构"><span class="toc-text">使用Python内置的算法与数据结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#七、协作开发"><span class="toc-text">七、协作开发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#八、部署"><span class="toc-text">八、部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#个人总结"><span class="toc-text">个人总结</span></a></li>
  </div>



<div class="content content-post CENTER">
   <article id="post-Effective-Python" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">Effective Python</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2018.09.18</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Dai Dai</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/Book/">Book</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <p><code>编辑时间：2018.9.18</code></p>
<p><code>有一部分是原书的内容，但测试样例全都是使用Python3.6.6自己测试的，Python的版本在不断的优化，因此语法在变化优化，本文有时效性大概半年吧。</code></p>
<hr>
<h3 id="一、用Python方式来思考"><a href="#一、用Python方式来思考" class="headerlink" title="一、用Python方式来思考"></a>一、用Python方式来思考</h3><h5 id="pep8"><a href="#pep8" class="headerlink" title="pep8"></a>pep8</h5><h5 id="切割序列"><a href="#切割序列" class="headerlink" title="切割序列"></a>切割序列</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">list_ = [1, 2, 3, 4, 5]</span><br><span class="line">print(list_[:2])  # 前两个</span><br><span class="line">print(list_[:-2])  # 去掉后两个</span><br><span class="line">print(list_[-2:])  # 后两个</span><br><span class="line">print(list_[2:])  # 去掉前两个</span><br><span class="line">print(list_[-3:3])  # 前三个和后三个的交集</span><br><span class="line">print(list_[2:-2])  # 去掉前两个和后三个</span><br><span class="line">assert list_[2:] == list_[2:len(list_)]  # assert是断言的意思，这里是断言两者相等为真，如果不相等就会报错</span><br><span class="line"></span><br><span class="line"># result</span><br><span class="line"># [1, 2]</span><br><span class="line"># [1, 2, 3]</span><br><span class="line"># [4, 5]</span><br><span class="line"># [3, 4, 5]</span><br><span class="line"># [3]</span><br><span class="line"># [3]</span><br></pre></td></tr></table></figure>
<h5 id="在单次切片操作内，不要同时指定start、end和stride"><a href="#在单次切片操作内，不要同时指定start、end和stride" class="headerlink" title="在单次切片操作内，不要同时指定start、end和stride"></a>在单次切片操作内，不要同时指定start、end和stride</h5><ul>
<li><code>somelist[start : end : stride]</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list_ = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br><span class="line">print(list_[::2])  # 序列长度为n时，取n/2个值，每次取未取序列中的第2个值</span><br><span class="line">print(list_[::1])  # 序列长度为n时，取n/1个值，每次取未取序列中的第1个值</span><br><span class="line">print(list_[::-1])  # 序列长度为n时，取n/1个值，序列先倒序，然后每次取未取序列中的第1个值</span><br><span class="line">print(list_[::-2])  # 序列长度为n时，取n/2个值，序列先倒序，然后每次取未取序列中的第2个值</span><br><span class="line">print(list_[2:6:2])   # 序列长度为n时，先取出序列的第3个到第7个值，然后每次取未取序列中的第2个值</span><br></pre></td></tr></table></figure>
<h5 id="用列表推导来取代map和filter"><a href="#用列表推导来取代map和filter" class="headerlink" title="用列表推导来取代map和filter"></a>用列表推导来取代map和filter</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">list_ = [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">list_1 = [i**2 for i in list_]  # 列表推导</span><br><span class="line">print(list_1)</span><br><span class="line"></span><br><span class="line">list_2 = map(lambda x: x**2, list_)  # map函数</span><br><span class="line">print(list_2)</span><br><span class="line">print(type(list_2))</span><br><span class="line">print(list_)</span><br><span class="line"></span><br><span class="line">list_3 = [x**2 for x in list_ if x % 2 == 0]</span><br><span class="line">print(list_3)</span><br><span class="line"></span><br><span class="line">list_4 = map(lambda x: x**2, filter(lambda x: x % 2 == 0, list_))</span><br><span class="line">print(list_4)</span><br><span class="line"></span><br><span class="line">dict_ = &#123;&apos;a&apos;: 1, &apos;b&apos;: 2, &apos;c&apos;: 3&#125;</span><br><span class="line">dict_1 = &#123;rank: name for name, rank in dict_.items()&#125;</span><br><span class="line">print(dict_1)  # 字典中，值和键交换</span><br><span class="line"></span><br><span class="line">dict_2 = &#123;1: &apos;hello&apos;, 2: &apos;world&apos;, 3: &apos;!&apos;&#125;</span><br><span class="line">set_1 = &#123;len(strings) for strings in dict_2.values()&#125;</span><br><span class="line">print(set_1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># result</span><br><span class="line"># [1, 4, 9, 16, 25]</span><br><span class="line"># &lt;map object at 0x00000254CB441208&gt;</span><br><span class="line"># &lt;class &apos;map&apos;&gt;</span><br><span class="line"># [1, 2, 3, 4, 5]</span><br><span class="line"># [4, 16]</span><br><span class="line"># &lt;map object at 0x00000254CB4413C8&gt;</span><br><span class="line"># &#123;1: &apos;a&apos;, 2: &apos;b&apos;, 3: &apos;c&apos;&#125;</span><br><span class="line"># &#123;1, 5&#125;</span><br></pre></td></tr></table></figure>
<h5 id="不要使用含有两个以上表达式的列表推导，这样可行但是会减少代码的可读性。可以使用多次单个表达式的列表推导来代替多个表达式的列表推导。"><a href="#不要使用含有两个以上表达式的列表推导，这样可行但是会减少代码的可读性。可以使用多次单个表达式的列表推导来代替多个表达式的列表推导。" class="headerlink" title="不要使用含有两个以上表达式的列表推导，这样可行但是会减少代码的可读性。可以使用多次单个表达式的列表推导来代替多个表达式的列表推导。"></a>不要使用含有两个以上表达式的列表推导，这样可行但是会减少代码的可读性。可以使用多次单个表达式的列表推导来代替多个表达式的列表推导。</h5><h5 id="使用生成器来改写数据量较大的列表推导"><a href="#使用生成器来改写数据量较大的列表推导" class="headerlink" title="使用生成器来改写数据量较大的列表推导"></a>使用生成器来改写数据量较大的列表推导</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">list_ = [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">root = ((x, x**2) for x in list_)</span><br><span class="line"></span><br><span class="line">print(next(root))</span><br><span class="line">print(next(root))</span><br><span class="line">print(next(root))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># result</span><br><span class="line"># (1, 1)</span><br><span class="line"># (2, 4)</span><br><span class="line"># (3, 9)</span><br></pre></td></tr></table></figure>
<h5 id="尽量使用enumerate替代range"><a href="#尽量使用enumerate替代range" class="headerlink" title="尽量使用enumerate替代range"></a>尽量使用enumerate替代range</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">list_ = [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">for i in range(len(list_)):</span><br><span class="line">    print(list_[i])</span><br><span class="line"></span><br><span class="line">for i, value in enumerate(list_):</span><br><span class="line">    print(i, &apos;: &apos;, value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># result</span><br><span class="line"># 1</span><br><span class="line"># 2</span><br><span class="line"># 3</span><br><span class="line"># 4</span><br><span class="line"># 5</span><br><span class="line"># 0 :  1</span><br><span class="line"># 1 :  2</span><br><span class="line"># 2 :  3</span><br><span class="line"># 3 :  4</span><br><span class="line"># 4 :  5</span><br></pre></td></tr></table></figure>
<h5 id="使用zip函数同时遍历多个迭代器"><a href="#使用zip函数同时遍历多个迭代器" class="headerlink" title="使用zip函数同时遍历多个迭代器"></a>使用zip函数同时遍历多个迭代器</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">list_1 = [1, 2, 3]</span><br><span class="line">list_2 = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]</span><br><span class="line">list_3 = [10, 20, 30]</span><br><span class="line"></span><br><span class="line">for number, string in zip(list_1, list_2):</span><br><span class="line">    print(number, string)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">list_1.append(4)</span><br><span class="line">print(list_1)</span><br><span class="line">for number, string in zip(list_1, list_2):</span><br><span class="line">    print(number, string)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for a_, b_, c_ in zip(list_1, list_2, list_3):</span><br><span class="line">    print(a_, b_, c_)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># result</span><br><span class="line"># 1 a</span><br><span class="line"># 2 b</span><br><span class="line"># 3 c</span><br><span class="line"># [1, 2, 3, 4]</span><br><span class="line"># 1 a</span><br><span class="line"># 2 b</span><br><span class="line"># 3 c</span><br><span class="line"># 1 a 10</span><br><span class="line"># 2 b 20</span><br><span class="line"># 3 c 30</span><br></pre></td></tr></table></figure>
<h3 id="二、函数"><a href="#二、函数" class="headerlink" title="二、函数"></a>二、函数</h3><h5 id="尽量使用异常来表示特殊情况，而不要返回None（捕捉异常）"><a href="#尽量使用异常来表示特殊情况，而不要返回None（捕捉异常）" class="headerlink" title="尽量使用异常来表示特殊情况，而不要返回None（捕捉异常）"></a>尽量使用异常来表示特殊情况，而不要返回None（捕捉异常）</h5><h5 id="考虑用生成器来改写直接返回列表的函数"><a href="#考虑用生成器来改写直接返回列表的函数" class="headerlink" title="考虑用生成器来改写直接返回列表的函数"></a>考虑用生成器来改写直接返回列表的函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">def add_():</span><br><span class="line">    a, b = 1, 1</span><br><span class="line">    while True:</span><br><span class="line">        c = a + b</span><br><span class="line">        yield c</span><br><span class="line">        a, b = b, c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sum_ = add_()</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    for i in range(10):</span><br><span class="line">        print(next(sum_), end=&apos;, &apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># result</span><br><span class="line"># 2, 3, 5, 8, 13, 21, 34, 55, 89, 144,</span><br></pre></td></tr></table></figure>
<p>这里的函数的返回值由yield决定</p>
<h3 id="三、类与继承"><a href="#三、类与继承" class="headerlink" title="三、类与继承"></a>三、类与继承</h3><h3 id="四、元类及属性"><a href="#四、元类及属性" class="headerlink" title="四、元类及属性"></a>四、元类及属性</h3><h3 id="五、并发及并行"><a href="#五、并发及并行" class="headerlink" title="五、并发及并行"></a>五、并发及并行</h3><ul>
<li>Python的多线程、多进程、协程貌似不太好，使用多进程时要特别注意多进程结束后各个进程的执行顺序</li>
<li>用subprocess模块来管理子进程</li>
<li>可以用线程来执行阻塞式I/O，但不要用它做计算</li>
<li>Python的GIL是一把互斥锁，防止抢占式多进程切换操作的干扰。因此同一时刻只有一条线程在跑，解决办法就是使用其他语言来写多进程的操作，使用Python来调用<br>。</li>
<li>使用Queue来协调各个线程之间的工作<ul>
<li>Python的解释器对于线程结束后的操作一直是混乱的，这里自己可以使用Python的内置Queue函数来协调</li>
</ul>
</li>
<li>考虑使用协程来并发地运行多个函数</li>
<li>Python中，核心、线程、进程、子进程和协程，协程之家切换代价最小</li>
<li>Python的协程没有锁，这个比进程好用，但要小心不要产生死循环（自由的代价）</li>
<li>考虑使用费concurrent.futures来实现并行计算</li>
</ul>
<h3 id="六、内置模块"><a href="#六、内置模块" class="headerlink" title="六、内置模块"></a>六、内置模块</h3><ul>
<li>使用datetime模块来处理本地时间，而不是time模块<ul>
<li>time模块是当前时间减去很久前的一个固定时间，单位是秒</li>
</ul>
</li>
</ul>
<h5 id="使用Python内置的算法与数据结构"><a href="#使用Python内置的算法与数据结构" class="headerlink" title="使用Python内置的算法与数据结构"></a>使用Python内置的算法与数据结构</h5><ol>
<li>双向队列<ul>
<li>collection模块中的deque类</li>
</ul>
</li>
<li>有序字典<ul>
<li>collection模块中的OrderedDict类</li>
</ul>
</li>
<li>带有默认值的字典<ul>
<li>collection模块中的defaultdict类</li>
</ul>
</li>
<li>堆队列（优先队列）<ul>
<li>heapq模块</li>
</ul>
</li>
<li>二分查找<ul>
<li>bisect模块中bisect_left等函数</li>
</ul>
</li>
<li>与迭代器有关的工具<ul>
<li>内置的itertools模块</li>
</ul>
</li>
</ol>
<h3 id="七、协作开发"><a href="#七、协作开发" class="headerlink" title="七、协作开发"></a>七、协作开发</h3><ul>
<li>为自编的模块定义根异常</li>
<li>书中建议使用虚拟环境隔离项目，本人多次搭建虚拟环境，但觉得还是正常环境就好，或者使用docker</li>
</ul>
<h3 id="八、部署"><a href="#八、部署" class="headerlink" title="八、部署"></a>八、部署</h3><ul>
<li>repr字符串来输出调试信息</li>
<li>使用tracemalloc来测试内存泄漏情况</li>
</ul>
<h3 id="个人总结"><a href="#个人总结" class="headerlink" title="个人总结"></a>个人总结</h3><ul>
<li>这貌似是本人有史以来读的第一本老美比国人写的糟的书，也有可能是年代久远吧~~~</li>
<li>对于性能的优化，使用CPython应该比较好吧，Cython就是一门新的语言，感觉语法很无语。或者使用SWIG或者ctype模块调用c语言代码。</li>
<li>Python的并行方面真的做的不够好吧</li>
</ul>

    
  </div>

</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">Supporting</span>
      <div class="donation-body">
        <div class="tip text-center">Scan, Support Daidai</div>
        <ul>
        
          <li class="item">
            
              <span>WeChat scan</span>
            
            <img src="/images/wechatpay.jpg" alt="">
          </li>
        
          <li class="item">
            
              <span>Alipay scan</span>
            
            <img src="/images/alipay.jpg" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2018/09/16/浪潮之巅/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2018/09/19/writing-Solid-Python-Code/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">Close</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/archives/" rel="noopener noreferrer" target="_self">
              Blog
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/category/" rel="noopener noreferrer" target="_self">
              Category
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/tag/" rel="noopener noreferrer" target="_self">
              Tag
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/about/" rel="noopener noreferrer" target="_self">
              About
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/atom.xml" rel="noopener noreferrer" target="_blank">
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/search/" rel="noopener noreferrer" target="_self">
              Search
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
